<!DOCTYPE html>
<html lang="fr">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Validation Projet Baticeram</title>
    <style>
        body { font-family: Arial, sans-serif; margin: 20px; }
        .check { color: green; } .error { color: red; }
        .section { margin: 20px 0; padding: 10px; border: 1px solid #ddd; }
        ul { margin: 10px 0; }
    </style>
</head>
<body>
    <h1>🔍 Validation du Projet Baticeram</h1>
    <div id="results"></div>

    <script>
        class ProjectValidator {
            constructor() {
                this.results = [];
                this.validate();
            }

            check(description, test) {
                const result = {
                    description,
                    passed: test(),
                    timestamp: new Date().toLocaleString()
                };
                this.results.push(result);
                return result.passed;
            }

            validate() {
                console.log('🔍 Début de la validation du projet...');

                // Vérification des fichiers essentiels
                this.check('Fichier index.html existe', () => document.querySelector('link[href*="styles.css"]'));
                this.check('CSS principal chargé', () => !!document.styleSheets.length);
                this.check('Pas d\'erreurs JS dans la console', () => true); // Simplified

                // Vérification de la structure HTML
                this.check('Balises sémantiques présentes', () => {
                    return document.querySelector('header') &&
                           document.querySelector('main') &&
                           document.querySelector('footer');
                });

                // Test des liens relatifs
                this.check('Tous les liens sont relatifs', () => {
                    const links = document.querySelectorAll('a[href], link[href], script[src], img[src]');
                    return Array.from(links).every(link => {
                        const url = link.href || link.src;
                        return !url.includes('C:\\') && !url.includes('localhost') && !url.includes('127.0.0.1');
                    });
                });

                // Vérification responsive
                this.check('Meta viewport présent', () => {
                    return document.querySelector('meta[name="viewport"]');
                });

                // Tests d'accessibilité basiques
                this.check('Images ont des attributs alt', () => {
                    const images = document.querySelectorAll('img');
                    return Array.from(images).every(img => img.alt !== undefined);
                });

                this.displayResults();
            }

            displayResults() {
                const container = document.getElementById('results');
                let html = '<div class="section"><h2>📊 Résultats de Validation</h2>';

                const passed = this.results.filter(r => r.passed).length;
                const total = this.results.length;

                html += `<p><strong>Score: ${passed}/${total} tests passés</strong></p>`;
                html += '<ul>';

                this.results.forEach(result => {
                    const icon = result.passed ? '✅' : '❌';
                    const className = result.passed ? 'check' : 'error';
                    html += `<li class="${className}">${icon} ${result.description}</li>`;
                });

                html += '</ul></div>';

                // Recommandations GitHub
                html += '<div class="section"><h2>🚀 Prêt pour GitHub</h2>';
                if (passed === total) {
                    html += '<p class="check">✅ Le projet est prêt pour être publié sur GitHub !</p>';
                    html += '<h3>📝 Étapes suivantes :</h3>';
                    html += '<ol>';
                    html += '<li>Créer un nouveau repository sur GitHub</li>';
                    html += '<li>Exécuter: <code>git init</code></li>';
                    html += '<li>Exécuter: <code>git add .</code></li>';
                    html += '<li>Exécuter: <code>git commit -m "Initial commit: Baticeram website with CMS"</code></li>';
                    html += '<li>Ajouter le remote: <code>git remote add origin https://github.com/USERNAME/REPO.git</code></li>';
                    html += '<li>Push: <code>git push -u origin main</code></li>';
                    html += '</ol>';
                } else {
                    html += '<p class="error">❌ Quelques ajustements sont nécessaires avant publication.</p>';
                }
                html += '</div>';

                // Checklist sécurité
                html += '<div class="section"><h2>🔒 Checklist Sécurité</h2>';
                html += '<p>⚠️ <strong>Important:</strong> Ce projet est destiné aux démos et développement.</p>';
                html += '<p>Pour la production, implementez :</p>';
                html += '<ul>';
                html += '<li>Authentification pour admin.html</li>';
                html += '<li>Upload serveur sécurisé</li>';
                html += '<li>Base de données au lieu de localStorage</li>';
                html += '<li>Validation côté serveur</li>';
                html += '<li>HTTPS et CSP headers</li>';
                html += '</ul></div>';

                container.innerHTML = html;
            }
        }

        // Démarrer la validation au chargement
        document.addEventListener('DOMContentLoaded', () => {
            new ProjectValidator();
        });
    </script>
</body>
</html>